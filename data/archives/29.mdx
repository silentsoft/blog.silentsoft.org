---
title: 'Atomikos + Spring Heuristic Completion Exception 해결 방법 (2)'
date: '2016-08-08'
lastmod: '2016-08-08'
tags: ['programming', 'spring']
---

Atomikos와 Spring을 이용한 분산 트랜잭션 처리 중 HeuristicCompletionException 예외 발생 시 [이전 포스팅](https://blog.silentsoft.org/archives/26)의 방법으로 해결이 안되는 경우, 혹시 n개의 DB 중에 PostgreSQL을 사용한다면 DB 설정 값을 바꾸면 해결된다.

**DB 설정 파일 경로**
`{PostgreSQL 설치 경로}\data\postgresql.conf`

**설정 값**
`max_prepared_transactions = 10`

max_prepared_transactions 초기 값은 주석 처리되어 있으며, 0이다. 주석(#)을 해제하고, 적당한 값으로 변경한 뒤, DB를 재기동하면 된다.

**PostgreSQL DB 재기동 방법**

> 시작 > 실행 > "services.msc" > PostgreSQL Server 우클릭 > 다시 시작

PostgreSQL이 아닌 다른 DB를 사용한다면, 이와 유사한 설정 항목을 찾아서 해결해 보자.
